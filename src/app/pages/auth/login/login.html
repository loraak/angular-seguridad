<p-toast></p-toast>

<div class="flex justify-content-center align-items-center" style="min-height: 100vh; background: #f8f9fa;">
    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" style="width: 100%; max-width: 480px;">
        <p-card>
            <ng-template pTemplate="header">
                <div class="text-center pt-4 pb-2 px-4">
                    <h2 style="margin: 0.5rem 0 0.25rem; font-size: 1.5rem; font-weight: 700; color: #1e293b;">
                        Iniciar Sesión
                    </h2>
                    <p style="margin: 0; color: #94a3b8; font-size: 0.875rem;">
                        Ingresa tus credenciales para continuar
                    </p>
                </div>
            </ng-template>

            <div class="px-3" style="display: flex; flex-direction: column; gap: 1.5rem;">

                <div>
                    <p-floatlabel>
                        <input
                            id="email"
                            type="email"
                            pInputText
                            formControlName="email"
                            class="w-full"
                            [ngClass]="{'ng-invalid ng-dirty': email?.invalid && (email?.dirty || email?.touched)}">
                        <label for="email">Email</label>
                    </p-floatlabel>
                    <div *ngIf="email?.invalid && (email?.dirty || email?.touched)" class="mt-1">
                        <small *ngIf="email?.errors?.['required']" class="p-error block">El email es requerido.</small>
                        <small *ngIf="email?.errors?.['email']" class="p-error block">El email no es válido.</small>
                    </div>
                </div>

                <div>
                    <p-floatlabel>
                        <p-password
                            inputId="password"
                            formControlName="password"
                            [feedback]="false"
                            [toggleMask]="true"
                            styleClass="w-full"
                            inputStyleClass="w-full">
                        </p-password>
                        <label for="password">Contraseña</label>
                    </p-floatlabel>
                    <small *ngIf="password?.invalid && (password?.dirty || password?.touched)" class="p-error block mt-1">
                        La contraseña es requerida.
                    </small>
                </div>

            </div>

            <ng-template pTemplate="footer">
                <div class="flex justify-content-center px-3 pb-3">
                    <p-button
                        label="Iniciar Sesión"
                        type="submit"
                        styleClass="w-full"
                        [disabled]="!loginForm.valid">
                    </p-button>
                </div>
            </ng-template>
        </p-card>
    </form>
</div>